<!DOCTYPE html>
<html lang="en" >
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Angular Material style sheet -->
    <link rel="stylesheet" href="/webjars/angular-material/1.1.3/angular-material.min.css" />
</head>
<body ng-app="BlankApp" ng-cloak>

<div ng-controller="PumpDataController as pdc">
    <!-- Pump Data: {{ pumpData }} -->

    <table ng-if="! pdc.checkForEmptyData()" border="1">
        <thead>
            <tr>
                <th>Pump</th><th>Beer RFID</th><th>Running Total</th><th>Number of Ratings</th><th>Average Rating</th><th>Last Updated</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="(pump, beer) in pumpData">
                <td>{{pump}}</td>
                <td>{{beer.rfid}}</td>
                <td>{{beer.runningTotalRating}}</td>
                <td>{{beer.numRatings}}</td>
                <td ng-if="beer.numRatings != 0">{{beer.runningTotalRating / beer.numRatings | number:2}}</td>
                <td ng-if="beer.numRatings == 0">0</td>
                <td>{{beer.lastVote}}</td>
            </tr>
        </tbody>
    </table>
    <div ng-if="pdc.checkForEmptyData()">
        <h3>No pumps have been loaded</h3>
    </div>
</div>

<!-- Angular Material requires Angular.js Libraries -->
<script src="/webjars/angularjs/1.6.2/angular.min.js"></script>
<script src="/webjars/angularjs/1.6.2/angular-animate.min.js"></script>
<script src="/webjars/angularjs/1.6.2/angular-aria.min.js"></script>
<script src="/webjars/angularjs/1.6.2/angular-messages.min.js"></script>
<script src="/webjars/sockjs-client/1.1.1/sockjs.min.js"></script>


<script src="/webjars/stomp-websocket/2.3.3/stomp.min.js"></script>

<!-- Angular Material Library -->
<script src="/webjars/angular-material/1.1.3/angular-material.min.js"></script>

<script src="/app.js"></script>

<!-- Your application bootstrap  -->
<script type="text/javascript">
    /**
     * You must include the dependency on 'ngMaterial'
     */

</script>

</body>
</html>